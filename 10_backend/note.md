# 10 backend

start: 10:12 ~ 12:00

- REST API 形式
  - 責務分離が可能

- HTMLを直接返す形式
  - 画面遷移ごとにHTMLが新たに送られる。
  - SEO対策：サーバで生成したHTMLを返すため、検索エンジンがページの内容を直接クロールしやすい。

## Flask

最小限の機能しか含まれていないので軽量で自由度が高い。

## ORMライブラリ

DBとアプリの間でやり取りを簡素化するためのツール

SQLAlchemy: Pythonでよく使われるORMライブラリ。

SQLじゃだめなの？

  -> SQLインジェクション対策が出来るのかしら？

## 認証

Cookieを使わないAPI

JWT: JSON Web Token。サーバ側で状態を保持せずに認証を行う。ログイン成功時にトークンを発行し、クライアントがそのトークンをHTTPヘッダーにつけて送信

SSO: シングルサインオンについて調査する。

## セキュリティ対策

入力バリデーションをフロントエンド側だけに依存させず、バックエンド側でもチェックを行う。

文字列の長さや型をチェック。

- ホワイトリスト方式
  - 受け入れる値の形式。
  - ホワイトリスト方式を採用した方が安全
    - 両方使えば良くないか？
- ブラックリスト方式
  - 明らかに悪意のある文字列を排除。

- CSRF対策: 
- XSS対策: スクリプトとして解釈しないようにする。
- SQLインジェクション: 

デバッグモードはオフ。

`app.run(debug=True)` を開発時に使うが、本番では必ずFalse

内部エラーが起きても、曖昧なメッセージを返すだけにし、詳細はログファイルに記録する。
